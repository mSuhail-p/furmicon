//  Function to Generator Otp :- ,
// const generateOTP = () => {
//     const digits = '0123456789';
//     let OTP = '';
//     for (let i = 0; i < 4; i++) {
//       OTP += digits[Math.floor(Math.random() * 10)];
//        
//     }
//      return OTP;
//   };

//   console.log(generateOTP())
 
 

 <div class="product-item lighting col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <span class="product-label">Out of stock</span>
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-2.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Swirl Suspension lamp</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             <div class="out-price">$446.00</div><!-- End .out-price -->
         </div><!-- End .product-price -->

         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item furniture col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-3.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Block Side Table/Trolley</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             $229.00
         </div><!-- End .product-price -->
         <div class="product-nav product-nav-dots">
             <a href="#" class="active" style="background: #333333;"><span class="sr-only">Color
                     name</span></a>
             <a href="#" style="background: #e2e2e2;"><span class="sr-only">Color name</span></a>
         </div><!-- End .product-nav -->

         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item accessories lighting sale col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <span class="product-label">Sale</span>
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-4.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Madra Log Holder</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             <span class="new-price">$103.00</span>
             <span class="old-price">Was $130.00</span>
         </div><!-- End .product-price -->
         <div class="product-nav product-nav-dots">
             <a href="#" class="active" style="background: #333333;"><span class="sr-only">Color
                     name</span></a>
             <a href="#" style="background: #a48264;"><span class="sr-only">Color name</span></a>
         </div><!-- End .product-nav -->

         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item furniture sale col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <span class="product-label">Sale</span>
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-5.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Foldable Tray Table</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             <span class="new-price">$320.00</span>
             <span class="old-price">Was $480.00</span>
         </div><!-- End .product-price -->
         <div class="product-nav product-nav-dots">
             <a href="#" class="active" style="background: #333333;"><span class="sr-only">Color
                     name</span></a>
             <a href="#" style="background: #cba374;"><span class="sr-only">Color name</span></a>
         </div><!-- End .product-nav -->

         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item furniture accessories col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-6.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Original Stonewashed Beanbag</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             $209.00
         </div><!-- End .product-price -->
         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item accessories lighting col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-7.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Wingback Chair</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             $2450.00
         </div><!-- End .product-price -->
         <div class="product-nav product-nav-dots">
             <a href="#" class="active" style="background: #cc9999;"><span class="sr-only">Color
                     name</span></a>
             <a href="#" style="background: #999999;"><span class="sr-only">Color name</span></a>
         </div><!-- End .product-nav -->

         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item furniture sale col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-8.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Cushion Set 3 Pieces</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             $99.00
         </div><!-- End .product-price -->
         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item furniture accessories col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-9.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Garden Armchair</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             $94.00
         </div><!-- End .product-price -->
         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item accessories col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-10.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Roots Sofa Bed</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             $337.00
         </div><!-- End .product-price -->
         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item lighting sale col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-11.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Butler Stool Ladder</a></h3>
         <!-- End .product-title -->
         <div class="product-price">
             $251.00
         </div><!-- End .product-price -->
         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>
         </div><!-- End .product-action -->
     </div><!-- End .product-body -->
 </div><!-- End .product -->
</div><!-- End .product-item -->

<div class="product-item lighting sale col-6 col-md-4 col-lg-3">
 <div class="product product-4">
     <figure class="product-media">
         <span class="product-label">Sale</span>
         <a href="product.html">
             <img src="assets/images/demos/demo-11/products/product-12.jpg" alt="Product image"
                 class="product-image">
         </a>

         <div class="product-action-vertical">
             <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>add to
                     wishlist</span></a>
         </div><!-- End .product-action -->

         <div class="product-action">
             <a href="popup/quickView.html" class="btn-product btn-quickview"
                 title="Quick view"><span>quick view</span></a>
         </div><!-- End .product-action -->
     </figure><!-- End .product-media -->

     <div class="product-body">
         <h3 class="product-title"><a href="product.html">Carronade Large Suspension Lamp</a>
         </h3><!-- End .product-title -->
         <div class="product-price">
             <span class="new-price">$892.00</span>
             <span class="old-price">Was $939.00</span>
         </div><!-- End .product-price -->
         <div class="product-nav product-nav-dots">
             <a href="#" class="active" style="background: #dddad5;"><span class="sr-only">Color
                     name</span></a>
             <a href="#" style="background: #825a45;"><span class="sr-only">Color name</span></a>
         </div><!-- End .product-nav -->

         <div class="product-action">
             <a href="#" class="btn-product btn-cart"><span>add to cart</span><i
                     class="icon-long-arrow-right"></i></a>





                     {/* add product */}...............................................



                     <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.2/min/dropzone.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css">
</head>

<body class="bg-secondary ">
    <div class="container w-50 ">
        <h2 class="mt-5 mb-4 text-center  fs-1 fw-bold ">ADD NEW PRODUCT</h2>
        <form action="/admin/add_product " method="post" enctype="multipart/form-data" class="row g-3 fw-bold ">
            <div class="col-md-6 ">
                <label for="name" class="form-label">Name:</label>
                <input type="text" id="name" name="name" class="form-control" required>
            </div>
            <div class="col-md-6">


                <label for="category" class="form-label">Category:</label>
                <select id="category" name="category" class="form-select" required>
                    <% categories.forEach(element=> { %>
                        <option value="category1">
                            <%= element.name %>
                                <st</option>
                                    <% }) %>
                                        <!-- Add more options as needed -->
                </select>
            </div>
            <div class="col-md-6">
                <label for="price" class="form-label">Price:</label>
                <input type="number" id="price" name="price" step="0.01" class="form-control" required>
            </div>
            <div class="col-md-6">
                <label for="quantity" class="form-label">Quantity:</label>
                <input type="number" id="quantity" name="quantity" class="form-control" required>
            </div>
            <div class="col-12">
                <label for="images" class="form-label">Images (Max 4, crop and resize):</label>
                <div id="imageUpload" class="dropzone"></div>
                <input type="hidden" id="croppedImages" name="croppedImages">
            </div>
            <div class="col-12">
                <label for="description" class="form-label">Description:</label>
                <textarea id="description" name="description" rows="4" class="form-control" required></textarea>
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.9.2/min/dropzone.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.js"></script>

    <script>
        // Initialize Dropzone.js
        Dropzone.autoDiscover = false;
        var myDropzone = new Dropzone("#imageUpload", {
            url: "/upload",
            acceptedFiles: 'image/*',
            maxFiles: 4,
            maxFilesize: 2, // in MB
            addRemoveLinks: true,
            init: function () {
                this.on("addedfile", function (file) {
                    if (this.files.length > 4) {
                        this.removeFile(file);
                        alert("You can only upload a maximum of 4 images.");
                    } else {
                        // Display the cropped image preview
                        var reader = new FileReader();
                        reader.onload = function (e) {
                            var img = new Image();
                            img.src = e.target.result;
                            img.onload = function () {
                                // Create a container for the Cropper.js instance
                                var container = document.createElement('div');
                                container.classList.add('cropper-container');
                                document.getElementById('imageUpload').appendChild(container);

                                // Initialize Cropper.js for the current image
                                var cropper = new Cropper(container, {
                                    aspectRatio: 1 / 1, // Change aspect ratio as needed
                                    viewMode: 2, // Change view mode as needed
                                    crop: function (event) {
                                        // Update the hidden input with the cropped image data
                                        var canvas = cropper.getCroppedCanvas({
                                            width: 200, // Change width as needed
                                            height: 200, // Change height as needed
                                        });
                                        canvas.toBlob(function (blob) {
                                            var newFile = new File([blob], file.name, { type: "image/jpeg", lastModified: Date.now() });
                                            myDropzone.addFile(newFile);
                                            document.getElementById('croppedImages').value += newFile.name + ',';
                                        }, 'image/jpeg');
                                    }
                                });

                                // Set the Cropper.js instance as a property of the file object
                                file.cropper = cropper;
                            };
                        };
                        reader.readAsDataURL(file);
                    }
                });
                this.on("removedfile", function (file) {
                    // Remove the Cropper.js container when removing the image
                    if (file.cropper) {
                        file.cropper.destroy();
                        file.cropper = null;
                    }
                });
            }
        });
    </script>

</body>

</html>